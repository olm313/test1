Интеграция по FTP-протоколу
===========================
Введение
--------
В данном документе приведено описание интерфейса обмена файлами для создания SMS-рассылок на Платформе.

Логин и пароль для подключения по FTP
`````````````````````````````````````

Перед началом работы Партнёр предоставляет список IP-адресов, с которых планируется подключение, а также согласовывает с персональным менеджером имя (имена) отправителя, доступные направления трафика, объем тестовых сообщений, если требуется тестовый период. В ответ Партнеру предоставляется логин и пароль для подключения по FTP.

Общие положения
````````````````
Возможности файлового интерфейса и цели его использования
""""""""""""""""""""""""""""""""
Файловый интерфейс позволяет авторизованному Партнеру автоматизированным образом создавать и, в случае наличия соответствующих привилегий, запускать на исполнение рассылки через загрузку файла установленного формата на Платформу. Загрузка файла производится любым удобным методом, обеспечивающим достаточную безопасность, например по FTPS или FTP через ipsec-туннель. Дополнительно имеется возможность включить генерацию файлов с отчетами о доставке сообщений из рассылки абонентам.

Также файловый интерфейс позволяет автоматизированным образом пополнять черный список номеров, связанных с аккаунтом партнера.

Формат файла и принцип взаиодействия сторон
""""""""""""""""""
Файловый протокол обмена данными разработан с учетом синхронизации доступа к файлам между передающей и принимающей сторонами. В результате обработки исходный файл перемещается в специальный каталог, и рядом создается файл отчета. Номера абонентов должны быть записаны в файле в международном формате. Для российских сотовых сетей номер абонента состоит из 11 цифр и начинается с семерки.

Логика декомпозии сообщения на части
""""""""""""""""""""""""""""""""""""
На Платформе формат расчета длины многосегментных сообщений (сообщений, состоящих из нескольких частей) по направлению “РФ - Билайн” приведен в соответствии с алгоритмом, который использует оператор ПАО «ВымпелКом», а именно: 67 символов на одну часть составного сообщения в Unicode (кириллица) и 152 символа в кодировке GSM DEFAULT (латиница).

Также возможна загрузка рассылок с идентификаторами. Эта опция включается по запросу и распространяется одновременно и на рассылки, загружаемые через файловый интерфейс, и на рассылки, создаваемые через личный кабинет.
